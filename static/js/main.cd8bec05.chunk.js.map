{"version":3,"sources":["components/Navigation.tsx","constants/index.ts","helpers/api.ts","store/error.ts","store/products.ts","store/index.ts","components/ProductCard.tsx","components/ProductsList.tsx","components/Sort.tsx","pages/HomePage.tsx","pages/ItemPage.tsx","pages/PageNotFound.tsx","components/Cart.tsx","components/Header.tsx","App.tsx","index.tsx"],"names":["Navigation","className","SORT_BY","fetchProducts","a","fetch","response","json","setError","errorMessage","type","reducer","action","setProducts","products","rootReducer","combineReducers","productsReducer","errorReducer","getProducts","state","store","createStore","composeWithDevTools","applyMiddleware","thunk","ProductCard","product","title","imageUrl","category","price","available","slug","to","pathname","src","alt","ProductsList","useSelector","map","key","id","dropdownOptions","value","Sort","useState","activeValue","setActiveValue","isOpen","setIsOpen","classNames","onClick","HomePage","ItemPage","useParams","history","useHistory","useMemo","find","goBack","PageNotFound","Cart","Header","App","dispatch","useDispatch","useEffect","length","api","message","from","path","exact","component","MainPage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cd8bec05.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './Navigation.scss';\r\n\r\nconst Navigation = () => {\r\n    return (\r\n        <nav className=\"navigation\">\r\n            <ul className=\"navigation__list\">\r\n                <li className=\"navigation__item navigation__item--active\">\r\n                    Все\r\n                </li>\r\n                <li className=\"navigation__item\">\r\n                    Плащи\r\n                </li>\r\n                <li className=\"navigation__item\">\r\n                    Кроссовки\r\n                </li>\r\n                <li className=\"navigation__item\">\r\n                    Рубашки\r\n                </li>\r\n                <li className=\"navigation__item\">\r\n                    Брюки\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navigation;\r\n","export const API_URL = 'https://aleksandr-tyagun.github.io/store/api';\r\n\r\nexport const SORT_BY = {\r\n    priceAsc: 'price-asc',\r\n    priceDesc: 'price-desc',\r\n    popular: 'popular',\r\n    new: 'new',\r\n}\r\n\r\nexport const CATEGORY = {\r\n    shirts: 'Рубашки',\r\n    shoes: 'Обувь',\r\n}","import { API_URL } from '../constants';\r\n\r\nexport const fetchProducts = async (): Promise<Product[]> => {\r\n  const response = await fetch(`${API_URL}/products.json`);\r\n\r\n  return response.json();\r\n};","import { AnyAction } from 'redux';\n\n\nconst SET_ERROR = 'SET_ERROR';\n\nexport const setError = (errorMessage: string) => ({ type: SET_ERROR, errorMessage });\n\nconst reducer = (errorMessage = '', action: AnyAction) => {\n  switch (action.type) {\n    case SET_ERROR:\n      return action.errorMessage;\n\n    default:\n      return errorMessage;\n  }\n};\n\nexport default reducer;\n","import { AnyAction } from 'redux';\r\n\r\n\r\nconst GET_PRODUCTS = 'GET_PRODUCTS';\r\n\r\nexport const setProducts = (products: Product[]) => ({ type: GET_PRODUCTS, products });\r\n\r\nconst reducer = (products: Product[] = [], action: AnyAction) => {\r\n  switch (action.type) {\r\n    case GET_PRODUCTS:\r\n      return action.products;\r\n\r\n    default:\r\n      return products;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport { Dispatch } from 'react';\r\n\r\nimport * as api from '../helpers/api';\r\nimport { setError } from './error';\r\nimport productsReducer, { setProducts } from './products';\r\nimport errorReducer from './error';\r\n\r\nconst rootReducer = combineReducers({\r\n    products: productsReducer,\r\n    errorMessage: errorReducer,\r\n});\r\n\r\nexport type RootState = ReturnType<typeof rootReducer>;\r\n\r\nexport const getProducts = (state: RootState) => state.products;\r\n\r\nexport const loadProducts = () => {\r\n    return async (dispatch: Dispatch<any>) => {\r\n        dispatch(setError(''));\r\n\r\n        try {\r\n            const products = await api.fetchProducts();\r\n\r\n            dispatch(setProducts(products))\r\n        } catch (e) {\r\n            dispatch(setError(e.message));\r\n        }\r\n    };\r\n};\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk)),\r\n);\r\n\r\nexport default store;","import React from 'react';\r\n\r\nimport './ProductCard.scss';\r\nimport { Link } from 'react-router-dom';\r\n\r\ntype Props = {\r\n  product: Product;\r\n}\r\n\r\nconst ProductCard: React.FC<Props> = ({ product }) => {\r\n  const {\r\n    title,\r\n    imageUrl,\r\n    category,\r\n    price,\r\n    available,\r\n    slug,\r\n  } = product;\r\n\r\n\r\n  return (\r\n    <Link to={{\r\n      pathname: slug,\r\n    }}>\r\n      <article className=\"product-card\">\r\n        <img\r\n          className=\"product-card__image\"\r\n          src={imageUrl}\r\n          alt=\"title\"\r\n        />\r\n        <div className=\"product-card__details\">\r\n          <span className=\"product-card__details-category\">\r\n            {category}\r\n          </span>\r\n          <span className=\"product-card__details-title\">\r\n            {title}\r\n          </span>\r\n          <span className=\"product-card__details-price\">\r\n            $\r\n            {price}\r\n          </span>\r\n          <span className=\"product-card__details-available\">\r\n            {`на складе: ${available}`}\r\n          </span>\r\n        </div>\r\n      </article>\r\n    </Link>\r\n  );\r\n}\r\n\r\nexport default ProductCard;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport './ProductsList.scss';\r\nimport * as store from '../store';\r\nimport ProductCard from './ProductCard';\r\n\r\n\r\nconst ProductsList = () => {\r\n  const products = useSelector(store.getProducts)\r\n\r\n  return (\r\n    <div className=\"products\">\r\n      {products.map((product: Product) => (\r\n        <ProductCard\r\n          key={product.id}\r\n          product={product}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProductsList;\r\n","import React, { useState } from 'react';\r\nimport classNames from 'classnames';\r\n\r\nimport './Sort.scss';\r\nimport { SORT_BY } from '../constants';\r\n\r\nconst dropdownOptions = [\r\n  {\r\n    value: SORT_BY.priceDesc,\r\n    title: 'От дорогих к дешевым',\r\n  },\r\n  {\r\n    value: SORT_BY.priceAsc,\r\n    title: 'От дешевых к дорогим',\r\n  },\r\n  {\r\n    value: SORT_BY.popular,\r\n    title: 'Популярные',\r\n  },\r\n  {\r\n    value: SORT_BY.new,\r\n    title: 'Новые',\r\n  },\r\n];\r\n\r\nconst Sort = () => {\r\n  const [activeValue, setActiveValue] = useState(dropdownOptions[0].value);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  return (\r\n    <div className=\"dropdown\">\r\n      <span\r\n        className={classNames('dropdown__button', { 'dropdown__button--active': isOpen })}\r\n        onClick={() => setIsOpen(!isOpen)}\r\n      >\r\n        Сортировать\r\n      </span>\r\n      {isOpen && (\r\n        <ul className=\"dropdown__list\">\r\n          {dropdownOptions.map(({ value, title }) => (\r\n            <li key={value}>\r\n              <button\r\n                className={\r\n                  classNames(\r\n                    'dropdown__item',\r\n                    { 'dropdown__item--active': value === activeValue }\r\n                  )\r\n                }\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setActiveValue(value)\r\n                  setIsOpen(false)\r\n                }}\r\n              >\r\n                {title}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Sort;\r\n","import React from 'react';\r\n\r\nimport './HomePage.scss';\r\nimport Navigation from '../components/Navigation';\r\nimport ProductsList from '../components/ProductsList';\r\nimport Sort from '../components/Sort';\r\n\r\nconst HomePage = () => {\r\n  return (\r\n    <main className=\"homepage\">\r\n      <div>\r\n        <Navigation />\r\n        <Sort />\r\n      </div>\r\n      <ProductsList />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n","import React, { useMemo } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport './ItemPage.scss';\r\nimport * as store from '../store';\r\n\r\nconst ItemPage = () => {\r\n  const { slug } = useParams();\r\n  const products = useSelector(store.getProducts);\r\n  const history = useHistory();\r\n\r\n  const product = useMemo(() => {\r\n    return products.find((product: Product) => product.slug === slug)\r\n  }, [slug, products])\r\n\r\n  return (\r\n    <>\r\n      {product && (\r\n        <main>\r\n          <section className=\"product\">\r\n            <img\r\n              className=\"product__image\"\r\n              src={product.imageUrl}\r\n              alt={product.title}\r\n            />\r\n            <button\r\n              onClick={history.goBack}\r\n              className=\"product__button product__button--back\"\r\n            >\r\n              Назад\r\n            </button>\r\n            <div className=\"product__category\">\r\n              {product.category}\r\n            </div>\r\n            <h1 className=\"product__title\">\r\n              {product.title}\r\n            </h1>\r\n            <div className=\"product__actions\">\r\n              <button\r\n                className=\"product__button product__button--size\"\r\n              >\r\n                Размер\r\n            </button>\r\n              <button\r\n                className=\"product__button-buy product__button-buy--disabled\"\r\n              >\r\n                В корзину\r\n            </button>\r\n            </div>\r\n            <div className=\"product__details\">\r\n              <div className=\"product__details-left\">\r\n                <p className=\"product__desc\">\r\n                  Рубашка на пуговицах от <b>Yohji Yamamoto</b> (Йоджи Ямамото). Классический воротник, застежка на пуговицах спереди, нагрудный карман, удлиненная модель, прошитые панели, длинные рукава и манжеты на пуговицах.\r\n              </p>\r\n                <p className=\"product__desc\">\r\n                  Рост модели 1,88 м, надет размер 2\r\n              </p>\r\n                <p className=\"product__desc\">\r\n                  Образ модели дополнен: Yohji Yamamoto широкие укороченные брюки, Converse кроссовки 'One Star'.\r\n              </p>\r\n              </div>\r\n              <div className=\"product__details-right\">\r\n                <table className=\"product__properties\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td className=\"product__properties-title\">Цвет:</td>\r\n                      <td className=\"product__properties-value\">Черный</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"product__properties-title\">Состав:</td>\r\n                      <td className=\"product__properties-value\">Шерсть 100%</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"product__properties-title\">Уход:</td>\r\n                      <td className=\"product__properties-value\">Сухая чистка</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td className=\"product__properties-title\">Артикул:</td>\r\n                      <td className=\"product__properties-value\">HHB73100</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </section>\r\n        </main>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ItemPage;\r\n","import React from 'react';\r\n\r\nconst PageNotFound = () => {\r\n    return (\r\n        <div>\r\n            Not found\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PageNotFound;\r\n","import React from 'react';\r\n\r\nimport './Cart.scss';\r\n\r\nconst Cart = () => {\r\n  return (\r\n    <div className=\"cart\">\r\n      <button\r\n        className=\"cart__button\"\r\n        type=\"button\"/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Header.scss';\r\nimport Cart from './Cart';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className=\"header\">\r\n      <nav>\r\n        <ul className=\"header__list\">\r\n          <li className=\"header__item\">\r\n            <Link to=\"/\">\r\n              <img\r\n                className=\"header__logo\"\r\n                src=\"img/logo.png\"\r\n                alt=\"logo\"\r\n              />\r\n            </Link>\r\n          </li>\r\n          <li className=\"header__item--card\">\r\n            <Cart />\r\n          </li>\r\n        </ul>\r\n\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport './App.scss';\nimport MainPage from './pages/HomePage';\nimport ItemPage from './pages/ItemPage';\nimport PageNotFound from './pages/PageNotFound';\nimport Header from './components/Header';\nimport * as store from './store';\n\nfunction App() {\n  const products = useSelector(store.getProducts)\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    if (products.length === 0) {\n      dispatch(store.loadProducts())\n    }\n  }, [dispatch, products]);\n\n\n  return (\n    <div className=\"app\">\n      <Header />\n      <Switch>\n        <Redirect from=\"/home\" to=\"/\" />\n        <Route path=\"/\" exact component={MainPage} />\n        <Route path=\"/:slug\" component={ItemPage} />\n        <Route component={PageNotFound} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}